<!DOCTYPE html>
<html lang="en" style="height:100%;" ng-app="Destinition" ng-controller="simCtrl">
<head>
    <meta charset="utf-8">
    <title>Destinition</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Destinition"/>
    <meta name="description" content="Destinition"/>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style-library-1.css" rel="stylesheet">
    <link href="css/blocks.css" rel="stylesheet">
    <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://npmcdn.com/particlesjs@1.0.2/dist/particles.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA7qBJy-453qS9XBAA8ksudZJCxhG6kB10">
    </script>
    <script>
        var app = angular.module('Destinition', []);
        app.controller('simCtrl', function ($scope) {
            $scope.km = "0";
            $scope.calc = function () {
                $scope.output = "";

                var orgin = $scope.orgin.replace(/\r?\n/g, "|").split("|");
                var dest = $scope.dest.replace(/\r?\n/g, "|").split("|");

                var service = new google.maps.DistanceMatrixService;
                service.getDistanceMatrix({
                    origins: orgin,
                    destinations: dest,
                    travelMode: 'DRIVING',
                    unitSystem: google.maps.UnitSystem.METRIC,
                    avoidHighways: false,
                    avoidTolls: false
                }, function (response, status) {
                    if (status !== 'OK') {
                        alert('Error was: ' + status);
                    } else {
                        var elements = response.rows[0].elements;
                        $scope.output = "";
                        for (var i = 0; i < elements.length; i++) {
                            $scope.output += (($scope.km == '1') ? Math.round(elements[i].distance.value / 1000) : elements[i].distance.value) + '\n';
                        }
                        $scope.$apply();
                    }
                });


            }
        });

        window.onload = function () {
            Particles.init({
                selector: '#myCanvas',
                color: '#ffffff',
                connectParticles: true,
                minDistance: 140
            });
        };

    </script>
    <style>
        html, body {
            margin: 0;
        }

        #myCanvas {
            position: absolute;
            display: block;
            top: 0;
            left: 0;
            z-index: 0;
        }


    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.4.0/animate.min.css">
</head>
<body>
<canvas id="myCanvas"></canvas>
<a href="https://github.com/ahmedengu/Destnations_DistanceMatrix">
    <img style="position: absolute; top: 0; right: 0; border: 0;"
         src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67"
         alt="Fork me on GitHub"
         data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" data-animation-1
         data-animation-trigger-1="load" data-animation-type-1="shake">
</a>
<header id="header-3" class="soft-scroll header-3">
    <section class="hero">
        <div class="container table-responsive">
            <div class="brand">
                <a href="#" class="white clouds-hover text-capitalize lead" data-animation-2
                   data-animation-trigger-2="load" data-animation-type-2="pulse">Destinition</a>
            </div>
            <div class="col-md-8 col-md-offset-2 text-center" data-animation-1 data-animation-trigger-1="load"
                 data-animation-type-1="fadeIn">
                <div class="editContent">
                    <h3 class="clouds">Orgin [Each in a line ]<br></h3>
                </div>
                <div class="editContent">
                    <div class="form-group">
                       <textarea class="form-control" rows="3" name="orgin" ng-model="orgin">
</textarea>
                    </div>
                    <div class="form-group">
                        <label class="control-label clouds">Destinitons</label>
                        <textarea class="form-control" rows="3" name="dest" ng-model="dest">
</textarea>
                    </div>
                    <div class="form-group well">

                        <span><input type="radio" name="km" ng-model="km" value="1"> Km</span>
                        <span><input type="radio" name="km" ng-model="km" value="0"> Meter</span>

                    </div>
                </div>
            </div>
            <div class="col-md-6 col-md-offset-3 text-center">
                <button class="btn btn-danger btn-block" ng-click="calc()"
                        data-animation-1
                        data-animation-trigger-1="click" data-animation-type-1="pulse"
                        data-animation-to-remove-1="pulse">Calc
                </button>

                <div>
                <textarea placeholder="output" class="form-control" rows="3" name="output" ng-model="output"
                          ng-disabled="!output.length">
</textarea>
                </div>
            </div>

        </div>
    </section>
</header>
<script type="text/javascript" src="https://cdn.rawgit.com/MhdAljuboori/6ea3a3fa48248e3a132a/raw/animator.js"></script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.0/jquery.waypoints.min.js"></script>
</body>
</html>
